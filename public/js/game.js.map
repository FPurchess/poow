{"version":3,"file":"public/js/game.js.map","sources":["app/main.js","app/components/audio.js","public/js/game.js","app/components/enemy.js"],"names":[],"mappings":"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","sourcesContent":["Game = {\n    width: function () {\n        return Crafty.DOM.window.width;\n    },\n    height: function () {\n        return Crafty.DOM.window.height;\n    },\n\n    start: function () {\n        Crafty.init();\n        Crafty.background('#000 url(public/images/bg-tile.png) center center repeat');\n\n        this.HUD = Crafty.e('HUD');\n\n        Crafty.scene('Loading');\n    }\n\n};\n\n$text_css = {\n    color: '#ffffff',\n    size: '20px',\n    family: 'Orbitron'\n};","Crafty.audio.add(\"background_music-01\", [\n    \"public/music/ouroboros.mp3\"\n]);\n\n\nCrafty.audio.add(\"game_over\", [\n    \"public/fx/game_over.wav\"\n]);\n\n\nCrafty.audio.add(\"shot\", [\n    \"public/fx/shot.mp3\"\n]);\n\n\nCrafty.audio.add(\"hit\", [\n    \"public/fx/explosion-01.ogg\",\n    \"public/fx/explosion-01.wav\",\n    \"public/fx/explosion-01.mp3\"\n]);","","Crafty.c('Enemy', {\n    shield: 3,\n    score: 100,\n    movementSpeed: 8,\n    moveCounter: 0,\n    shootInterval: 10,  // number of moves until next bullet is fired\n\n    init: function () {\n        this.requires(\"2D,Canvas,spr_enemy,Collision\");\n    },\n\n    spawn: function () {\n        console.log('Enemy::spawn');\n\n        this.attr({x: -this.w, y: randInt(0, Game.height() - 50)});\n        this.rotation = 90;\n\n        this.bind(\"EnterFrame\", function () {\n            this.moveEnemy();\n            this.shootBullet();\n        });\n\n        return this;\n    },\n\n    moveEnemy: function () {\n        if (this.x < Game.width()) {\n            this.x += this.movementSpeed;\n            this.moveCounter++;\n        } else {\n            this.die();\n        }\n    },\n\n    damage: function() {\n        this.shield--;\n\n        if (this.shield <= 0) {\n            Game.player.score += this.score;\n            Game.HUD.setScore(Game.player.score);\n            this.die();\n        }\n    },\n\n    shootBullet: function () {\n        if (this.moveCounter % this.shootInterval == 0) {\n            Crafty.e('EnemyBullet').spawn(this.x + this.w / 2, this.y + this.h / 2, this.rotation);\n        }\n    },\n\n    die: function () {\n        this.destroy();\n\n        return this;\n    }\n\n});\n"]}